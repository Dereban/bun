"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();System.register(["underscore"],function(t,e){var n;e&&e.id;return{setters:[function(t){n=t}],execute:function(){var e=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t),this.views=new Set,this.changeHooks={},this.attrs=e}return _createClass(t,[{key:"get",value:function(t){return this.attrs[t]}},{key:"set",value:function(t,e){this.attrs[t]=e,this.execChangeHooks(t,e)}},{key:"setAttrs",value:function(t){n.extend(this.attrs,t);for(var e in t)this.execChangeHooks(e,t[e])}},{key:"append",value:function(t,e){this.attrs[t]?this.attrs[t].push(e):this.attrs[t]=[e],this.execChangeHooks(t,this.get(t))}},{key:"extend",value:function(t,e){this.attrs[t]?n.extend(this.attrs[t],e):this.attrs[t]=e,this.execChangeHooks(t,this.get(t))}},{key:"onChange",value:function(t,e){this.changeHooks[t]?this.changeHooks[t].push(e):this.changeHooks[t]=[e]}},{key:"execChangeHooks",value:function(t,e){var n=this.changeHooks[t];if(n){var a=!0,s=!1,r=void 0;try{for(var i,o=n[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var h=i.value;h(e)}}catch(c){s=!0,r=c}finally{try{!a&&o["return"]&&o["return"]()}finally{if(s)throw r}}}}},{key:"remove",value:function(){this.collection&&this.collection.remove(this),delete this.changeHooks,delete this.attrs;var t=!0,e=!1,n=void 0;try{for(var a,s=this.views[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var r=a.value;r.remove()}}catch(i){e=!0,n=i}finally{try{!t&&s["return"]&&s["return"]()}finally{if(e)throw n}}}},{key:"attach",value:function(t){this.views.add(t)}},{key:"detach",value:function(t){this.views["delete"](t)}}]),t}();t("default",e)}}});
//# sourceMappingURL=maps/model.js.map
