"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_templateObject=_taggedTemplateLiteral(["<figure>\n			","\n			","\n			","\n		</figure>"],["<figure>\n			","\n			","\n			","\n		</figure>"]),_templateObject2=_taggedTemplateLiteral(["<figcaption>\n			","\n			","\n			<span>\n				(",")\n			</span>\n			","\n		</figcaption>"],["<figcaption>\n			","\n			","\n			<span>\n				(",")\n			</span>\n			","\n		</figcaption>"]),_templateObject3=_taggedTemplateLiteral(['<a class="imageToggle">\n			[',"]\n		</a>"],['<a class="imageToggle">\n			[',"]\n		</a>"]),_templateObject4=_taggedTemplateLiteral(["<a ",">\n			","\n		</a>"],["<a ",">\n			","\n		</a>"]),_templateObject5=_taggedTemplateLiteral(["<a ",">\n			<img ",">\n		</a>"],["<a ",">\n			<img ",">\n		</a>"]),_templateObject6=_taggedTemplateLiteral(["<a ",">\n					","\n				</a>"],["<a ",">\n					","\n				</a>"]);System.register(["../../state","underscore","../../options","../../util","../../lang"],function(e,t){function r(e,t){var r="hide"!==m["default"].get("thumbs")||t;return d.parseHTML(_templateObject,n(e,t),g.config.images.hats&&r?'<span class="hat"></span>':"",r?c(e):"")}function n(e,t){var r=d.commaList([e.audio?"â™«":"",e.length.toString(),a(e.size),e.dims[0]+"x"+e.dims[1],e.apng?"APNG":""]);return d.parseHTML(_templateObject2,i(t),l(e),r,p(e))}function a(e){if(1024>e)return e+" B";if(1048576>e)return Math.round(e/1024)+" KB";var t=Math.round(e/104857.6).toString();return t.slice(0,-1)+"."+t.slice(-1)+" MB"}function i(e){return"hide"!==m["default"].get("thumbs")?"":d.parseHTML(_templateObject3,b.images[e?"hide":"show"])}function l(e){var t="";if(4===e.fileType)return m["default"].get("google")?y.google(e):"";for(var r in y)t+=y[r](e);return t}function o(e,t){var r=t?"mid":"thumb",n=void 0;switch(e.fileType){case 6:case 0:n=".jpg";break;case 1:case 2:case 3:case 4:case 7:case 8:n=".png"}return h[r]+e.file+n}function s(e){var t=e.file,r=e.fileType;return h.src+t+u(r)}function u(e){var t,r=(t={},_defineProperty(t,0,".jpg"),_defineProperty(t,1,".png"),_defineProperty(t,2,".gif"),_defineProperty(t,3,".webm"),_defineProperty(t,4,".pdf"),_defineProperty(t,5,".svg"),_defineProperty(t,6,".mp4"),_defineProperty(t,7,".mp3"),_defineProperty(t,8,".ogg"),t);return r[e]}function p(e){var t="",r=(e.file,e.fileType),n=e.imgnm,a=n.match(/^(.*)\.\w{3,4}$/);a&&(t=a[1]);var i=f.escape(n),l=t.length>=38;l&&(n=f.escape(t.slice(0,30))+"(&hellip;)"+f.escape(u(r)));var o={href:s(e),rel:"nofollow",download:i};return l&&(o.title=i),d.parseHTML(_templateObject4,d.parseAttributes(o),n)}function c(e,t){var r=s(e),n=void 0,a=_slicedToArray(e.dims,4),i=(a[0],a[1],a[2]),l=a[3];e.spoiler&&m["default"].get("spoilers")?(n=h.spoil+e.spoiler+".jpg",i=l=250):n=2===e.fileType&&m["default"].get("autogif")?r:o(e,"small"!==m["default"].get("thumbs"));var u={target:"_blank",rel:"nofollow",href:t||r},p={src:n,width:i.toString(),height:l.toString()};return t&&(u["class"]="history",p["class"]="expanded","hide"===m["default"].get("thumbs")&&(p.style="display: none")),d.parseHTML(_templateObject5,d.parseAttributes(u),d.parseAttributes(p))}var g,f,m,d,b,h,y;t&&t.id;return e("renderImage",r),e("renderFigcaption",n),e("renderThumbnail",c),{setters:[function(e){g=e},function(e){f=e},function(e){m=e},function(e){d=e},function(e){b=e}],execute:function(){h={src:"/img/src/",thumb:"/img/thumb/",mid:"/img/mid/",spoil:"/ass/spoil/spoiler"},y=function(){var e=[{engine:"google",url:"https://www.google.com/searchbyimage?image_url=",type:"thumb",symbol:"G"},{engine:"iqdb",url:"http://iqdb.org/?url=",type:"thumb",symbol:"Iq"},{engine:"saucenao",url:"http://saucenao.com/search.php?db=999&url=",type:"thumb",symbol:"Sn"},{engine:"desustorage",type:"MD5",url:"https://desustorage.org/_/search/image/",symbol:"Ds"},{engine:"exhentai",type:"SHA1",url:"http://exhentai.org/?fs_similar=1&fs_exp=1&f_shash=",symbol:"Ex"}],t={},r=!0,n=!1,a=void 0;try{for(var i,l=function(){var e=i.value,r=e.engine,n=e.url,a=e.type,l=e.symbol,s={target:"_blank",rel:"nofollow","class":"imageSearch "+r};t[r]=function(e){return m["default"].get(r)?(s.href=n+("thumb"===a?o(e,!1):e[a]),d.parseHTML(_templateObject6,d.parseAttributes(s),l)):""}},s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)l()}catch(u){n=!0,a=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}return t}()}}});
//# sourceMappingURL=../../maps/posts/render/image.js.map
