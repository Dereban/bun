"use strict";System.register(["./model","./collection","./util","./db"],function(e,n){function t(e){var n=e.match(/\/([a-zA-Z0-9]+?)\//)[1],t=e.match(/\/(\d+)(:?#\d+)?(?:[\?&]\w+=\w+)*$/),o=e.match(/[\?&]last=(\d+)/);return{board:n,thread:t?parseInt(t[1]):0,lastN:o?parseInt(o[1]):0}}function o(){return q(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.db.transaction("posts","readonly").objectStore("posts").get("mine").exec();case 2:t=n.sent,delete t.id,e("mine",b=new Set([t]));case 5:case"end":return n.stop()}},n,this)}))}function r(e){var n=c.getID(e);return n?p.get(n):null}function i(e){y.style.display=e?"block":"none"}var a,u,c,s,d,l,f,m,h,w,g,y,p,b,v,x,$,q=(n&&n.id,this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o["throw"](e))}catch(n){i(n)}}function c(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(a,u)}c((o=o.apply(e,n)).next())})});return e("loadFromDB",o),e("getModel",r),e("displayLoading",i),{setters:[function(e){a=e},function(e){u=e},function(e){c=e},function(e){s=e}],execute:function(){e("config",d=window.config),e("isMobile",l=window.isMobile),e("page",f=new a["default"](t(location.href))),e("$thread",m=document.query("threads")),e("$name",h=document.query("#name")),e("$email",w=document.query("#email")),e("$banner",g=document.query("#banner")),e("$loading",y=document.query("#loadingImage")),e("posts",p=new u["default"]),e("ownPosts",v=new Set),e("syncs",x={}),e("debug",$=/[\?&]debug=true/.test(location.href))}}});
//# sourceMappingURL=maps/state.js.map
