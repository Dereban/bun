"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();System.register(["./model","./options/specs","./options/view","./defer"],function(e,t){var n,i,r,a,s,o;t&&t.id;return{setters:[function(e){n=e},function(e){i=e},function(e){r=e},function(e){a=e}],execute:function(){localStorage.removeItem("options"),s=new n["default"],e("default",s),e("models",o={});var t=function(){function e(t){var n=this;if(_classCallCheck(this,e),!t.noLoad){this.spec=t,this.id=this.spec.id,t.type||(t.type=0);var i=s.attrs[this.id]=this.get();s.onChange(this.id,function(e){return n.onChange(e)}),t.noExecOnStart||this.execute(i),o[this.id]=this}}return _createClass(e,[{key:"read",value:function(){return localStorage.getItem(this.id)||""}},{key:"get",value:function(){var e=this.read();if(e){if("false"===e)return!1;if("true"===e)return!0;var t=parseInt(e,10);return t||0===t?t:this.spec["default"]}return this.spec["default"]}},{key:"onChange",value:function(e){this.execute(e),this.set(e)}},{key:"execute",value:function(e){this.spec.exec&&this.spec.exec(e)}},{key:"set",value:function(e){(e!==this.spec["default"]||this.read())&&localStorage.setItem(this.id,e.toString())}},{key:"validate",value:function(e){return this.spec.validation?this.spec.validation(e):!0}}]),e}(),u=!0,c=!1,l=void 0;try{for(var f,h=i.specs[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;new t(d)}}catch(v){c=!0,l=v}finally{try{!u&&h["return"]&&h["return"]()}finally{if(c)throw l}}a.defer(function(){return new r["default"]})}}});
//# sourceMappingURL=maps/options.js.map
