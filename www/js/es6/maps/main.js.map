{"version":3,"sources":["main.ts"],"names":[],"mappings":";;;;;;;;;;;;QAOM,CAAC,EASD,aAAa;IAWnB;;YACC,MAAM,SAAI,EAAE,CAAA;YACZ,MAAM,kBAAU,EAAE,CAAA;YAClB,kBAAO,EAAE,CAAA;YACT,YAAI,EAAE,CAAA;YACN,sBAAc,CAAC,KAAK,CAAC,CAAA;QACtB,CAAC;KAAA;;;;;;;;;;;;;;;;;;;;YA1BK,CAAC,GAAG,OAAO,CAAA;YASX,aAAa,GAAG,CAAC,CAAA;YACvB,EAAE,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC;gBAC5D,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAChC,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,MAAM,CAAA;oBACrD,QAAQ,CAAC,MAAM,GAAG,IAAI,GAAG,yCAAyC,CAAA;gBACnE,CAAC;gBACD,YAAY,CAAC,OAAO,CAAC,eAAe,EAAE,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAA;YAChE,CAAC;YAWD,KAAK,EAAE,CAAA","file":"main.js","sourcesContent":["/*\n  Client entry point.\n  NOTE: All modules use strict mode implicitly\n */\n\n // TODO: Remove, when proper structure done\nimport * as options from './options'\nconst o = options\n\nimport {displayLoading} from './state'\nimport {exec} from './defer'\nimport {start as connect} from './connection'\nimport {loadFromDB} from './state'\nimport {open} from './db'\n\n// Clear cookies, if versions mismatch.\nconst cookieVersion = 4\nif (localStorage.getItem(\"cookieVersion\") != cookieVersion) {\n\tfor (let cookie of document.cookie.split(\";\")) {\n\t\tconst eqPos = cookie.indexOf(\"=\"),\n\t\t\tname = eqPos > -1 ? cookie.substr(0, eqPos) : cookie\n\t\tdocument.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\"\n\t}\n\tlocalStorage.setItem(\"cookieVersion\", cookieVersion.toString())\n}\n\n// Load all stateful modules in dependancy order\nasync function start() {\n\tawait open()\n\tawait loadFromDB()\n\tconnect()\n\texec()\n\tdisplayLoading(false)\n}\n\nstart()\n"],"sourceRoot":"/source/"}