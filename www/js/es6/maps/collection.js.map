{"version":3,"sources":["collection.ts"],"names":[],"mappings":";;;;;;;YAGA;gBAIC,YAAY,MAAY;oBAHxB,WAAM,GAAuB,EAAE,CAAA;oBAI9B,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;wBACZ,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,MAAM,CAAC,CAAC,CAAC;4BAC1B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;wBAChB,CAAC;oBACF,CAAC;gBACF,CAAC;gBAGD,GAAG,CAAC,EAAU;oBACb,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;gBACvB,CAAC;gBAGD,GAAG,CAAC,KAAQ;oBACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAA;oBAC7B,KAAK,CAAC,UAAU,GAAG,IAAI,CAAA;gBACxB,CAAC;gBAGD,MAAM,CAAC,KAAQ;oBACd,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;oBAC5B,OAAO,KAAK,CAAC,UAAU,CAAA;gBACxB,CAAC;gBAGD,KAAK;oBACJ,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,UAAU,CAAA;oBAClC,CAAC;oBACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;gBACjB,CAAC;gBAGD,OAAO,CAAC,EAAsB;oBAC7B,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC5B,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAA;oBACpB,CAAC;gBACF,CAAC;YACF,CAAC;YA3CD,gCA2CC,CAAA","file":"collection.js","sourcesContent":["import Model from './model'\n\n// Holds a collection of models\nexport default class Collection<M extends Model> {\n\tmodels: {[key: string]: M} = {}\n\n\t// Creates a new Collection instance, with optional starting set of models\n\tconstructor(models?: M[]) {\n\t\tif (models) {\n\t\t\tfor (let model of models) {\n\t\t\t\tthis.add(model)\n\t\t\t}\n\t\t}\n\t}\n\n\t// Retrieve a model by its ID\n\tget(id: number): M {\n\t\treturn this.models[id]\n\t}\n\n\t// Add model to collection\n\tadd(model: M) {\n\t\tthis.models[model.id] = model\n\t\tmodel.collection = this\n\t}\n\n\t// Remove model from the collection\n\tremove(model: M) {\n\t\tdelete this.models[model.id]\n\t\tdelete model.collection\n\t}\n\n\t// Remove all models from collection\n\tclear() {\n\t\tfor (let id in this.models) {\n\t\t\tdelete this.models[id].collection\n\t\t}\n\t\tthis.models = {}\n\t}\n\n\t// Runs the suplied function for each model in the collection\n\tforEach(fn: (model: M) => void) {\n\t\tfor (let id in this.models) {\n\t\t\tfn(this.models[id])\n\t\t}\n\t}\n}\n"],"sourceRoot":"/source/"}